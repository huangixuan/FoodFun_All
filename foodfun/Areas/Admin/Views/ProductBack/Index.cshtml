@model IEnumerable<foodfun.Models.ProductBackViewModel>

@{
    ViewBag.Title = "基本資料管理 / 商品基本資料";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}


<div class="content">
    <div class="animated fadeIn">
        <div class="row">

            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">
                        <div>
                            <h3>
                                <b>
                                    <strong class="card-title">
                                        @ViewBag.Title
                                    </strong>

                                </b>
                            </h3>
                        </div>
                        <hr />

                    </div>
                    <div class="card-body">
                        <table style=" width: 100%" id="DatatableList" class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <th> @Html.DisplayNameFor(model => model.products.product_no)</th>
                                    <th> @Html.DisplayNameFor(model => model.category_name)</th>
                                    <th> a商品編號</th>
                                    <th> @Html.DisplayNameFor(model => model.products.product_name)</th>
                                    <th> @Html.DisplayNameFor(model => model.products.price_avgcost)</th>
                                    <th> @Html.DisplayNameFor(model => model.products.price_sale)</th>
                                    <th> @Html.DisplayNameFor(model => model.products.image_path)</th>
                                    <th> @Html.ActionLink("新增記錄", "Create", "ProductBack", null, new { @class = "btn btn-primary" })</th>
                                </tr>
                            </thead>
                            <tbody>


                                @foreach (var item in Model)
                                {
                                <tr>

                                    <td>
                                        @Html.DisplayFor(modelItem => item.products.product_no)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.category_name)
                                    </td>
                                    <td>
                                       @Backend.GetCodeName(item.products.category_no)
                                    </td>


                                    <td>
                                        @Html.DisplayFor(modelItem => item.products.product_name)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.products.price_avgcost)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.products.price_sale)
                                    </td>
                                    <td>

                                        <img src="@string.Format("../../img/product/{0}/{1}.jpg?t={2}", item.products.category_no , item.products.product_no , DateTime.Now.ToString("yyyMMddHHmmss"))" style="width:80px;" alt="x" />
                                    </td>

                                    <td>

                                        @Html.ActionLink("修改", "Edit", "ProductBack", new { id = item.products.product_no }, new { @class = "btn btn-info" })

                                        @Html.ActionLink("刪除", "Delete", "ProductBack", new { id = item.products.product_no }, new { @class = "btn btn-success", onclick = "return confirm('是否確定要刪除?')" })

                                        <button class="btn btn-primary" style="background-color:#FFE4E1"> @Html.ActionLink("上傳", "Upload", new { product_no = item.products.product_no })</button>

                                    </td>
                                </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>


        </div>
    </div>
</div>
@*<script type="text/javascript">
        $(document).ready(function () {
            $('#bootstrap-data-table-export').DataTable({

                "language": {
                    "sProcessing": "處理中...",
                    "sLengthMenu": "顯示 _MENU_ 項結果",
                    "sZeroRecords": "沒有匹配結果",
                    "sInfo": "顯示第 _START_ 至 _END_ 項結果，共 _TOTAL_ 項",
                    "sInfoEmpty": "顯示第 0 至 0 項結果，共 0 項",
                    "sInfoFiltered": "(從 _MAX_ 項結果過濾)",
                    "sInfoPostFix": "",
                    "sSearch": "查詢:",
                    "sUrl": "",
                    "oPaginate": {
                        "sFirst": "首頁",
                        "sPrevious": "上頁",
                        "sNext": "下頁",
                        "sLast": "尾頁"
                    }
                },




            });
        });
    </script>*@



<script>
    $(document).ready(function () {
        $('#DatatableList').DataTable({

            "language": {
                "sProcessing": "處理中...",
                "sLengthMenu": "顯示 _MENU_ 項結果",
                "sZeroRecords": "沒有匹配結果",
                "sInfo": "顯示第 _START_ 至 _END_ 項結果，共 _TOTAL_ 項",
                "sInfoEmpty": "顯示第 0 至 0 項結果，共 0 項",
                "sInfoFiltered": "(從 _MAX_ 項結果過濾)",
                "sInfoPostFix": "",
                "sSearch": "查詢:",
                "sUrl": "",
                "oPaginate": {
                    "sFirst": "首頁",
                    "sPrevious": "上頁",
                    "sNext": "下頁",
                    "sLast": "尾頁"
                }
            }

        })


    })






</script>
